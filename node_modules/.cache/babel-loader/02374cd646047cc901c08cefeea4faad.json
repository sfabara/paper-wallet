{"ast":null,"code":"import _defineProperty from\"/home/user/Desktop/react-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/user/Desktop/react-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/user/Desktop/react-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/user/Desktop/react-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/user/Desktop/react-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import TextField from'@mui/material/TextField';import styled from'styled-components';import{Button,Checkbox,IconButton,InputLabel,Typography}from'@mui/material';import NiceInputPassword from'react-nice-input-password';import{useEffect,useState}from'react';import{FiLock}from'react-icons/fi';import'react-nice-input-password/dist/react-nice-input-password.css';import{FaCheckCircle}from'react-icons/fa';import{IoIosWarning}from'react-icons/io';import{MdContentCopy}from'react-icons/md';// var Mnemonic = require('bitcore-mnemonic')\n// Mnemonic import \nimport Mnemonic from'bitcore-mnemonic-litecoin';// import bip39 from 'bip39'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var bip39=require('bip39');// const constants = require('bip44') \n//Styled components\nvar Form=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-evenly;\\n    align-items: center;\\n    height: 100%\\n\"])));var MnemonicContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    width: 100%;\\n\"])));var MnemonicText=styled.p(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    background-color: rgb(40, 57, 71);\\n    color: white;\\n    box-shadow: 1px 1px 10px 1px #00000040;\\n    border-radius: 4px;\\n    padding: 12px;\\n    font-weight: 700;\\n    margin: 10px\\n\"])));var InputFields=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column; \\n    align-items: center;\\n    justify-content: space-evenly;\\n    height: 55%;\\n\\n\"])));var Message=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    flex-grow: grow ;\\n\"])));var Terms=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    padding: 8px;\\n\\n\\n\"])));// mui styled\nvar SubmitButton=styled(Button)(function(_ref){var theme=_ref.theme;return{backgroundColor:\"rgb(40, 57, 71)\",color:\"white\",padding:10,borderRadius:\"10px\",height:\"50px\",margin:\"10px\",fontWeight:800,width:\"50%\",'&:hover':{backgroundColor:'rgb(40, 57, 71, .6)',boxShadow:\"1px 1px 20px #00000090\",border:\"solid\",borderWidth:\"4px\",borderColor:\"rgb(40, 57, 71)\"},'@media (max-width: 800px)':{width:'90%'}};});// Start New Wallet Form\nvar NewWalletForm=function NewWalletForm(_ref2){var modalVisible=_ref2.modalVisible,loginSuccess=_ref2.loginSuccess,setLoginSuccess=_ref2.setLoginSuccess;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),terms=_useState4[0],setTerms=_useState4[1];var _useState5=useState({\"password\":null}),_useState6=_slicedToArray(_useState5,2),pass=_useState6[0],setPass=_useState6[1];var _useState7=useState('#000'),_useState8=_slicedToArray(_useState7,2),color=_useState8[0],setColor=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),match=_useState10[0],setMatch=_useState10[1];var _useState11=useState({\"confirm\":null}),_useState12=_slicedToArray(_useState11,2),confirmPass=_useState12[0],setConfirmPass=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),hints=_useState14[0],setHints=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),everythingOk=_useState16[0],setEverythingOk=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),icon=_useState18[0],setIcon=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),mnemonic=_useState20[0],setMnemonic=_useState20[1];var handlePass=function handlePass(e){setPass({\"password\":e.value});};var handleConfirmPass=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setConfirmPass({\"confirm\":e.value});case 1:case\"end\":return _context.stop();}}},_callee);}));return function handleConfirmPass(_x){return _ref3.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){if(terms&&match&&hints==4){setIcon(/*#__PURE__*/_jsx(FaCheckCircle,{color:\"#43ad1f\",size:30}));setEverythingOk(true);setErrorMessage(\"Success!\");// Pass state to main layout with WALLET_SUCCESS\nsetTimeout(function(){setLoginSuccess(true);},1000);}else{setIcon(/*#__PURE__*/_jsx(IoIosWarning,{color:'#de1b4f',size:30}));setEverythingOk(false);setErrorMessage(\"1 Or More Requirements Missing\");}};useEffect(function(){if(pass.password===null||confirmPass.confirm===null||confirmPass.confirm===\"\"||pass.password===\"\"){setColor(\"#000\");return;}if(pass.password===confirmPass.confirm){setColor(\"#43ad1f\");setMatch(true);if(hints==4&&match){console.log(\"Everyhting is perfecto\");}}else{setMatch(false);setColor('#de1b4f');}},[confirmPass]);useEffect(function(){if(pass.password===null||confirmPass.confirm===null||confirmPass.confirm===\"\"||pass.password===\"\"){setColor(\"#000\");return;}if(pass.password===confirmPass.confirm){setMatch(true);setColor('#43ad1f');}else{setMatch(false);setColor('#de1b4f');}},[pass]);useEffect(function(){if(!modalVisible){setIcon();setColor('#000');setMatch(false);setPass({\"password\":\"\"});setConfirmPass({\"confirm\":\"\"});setTerms(false);setErrorMessage();setHints(0);setEverythingOk(false);return;}setMnemonic(genMnemonic());},[modalVisible]);// ======================================================================================\n// ======================================================================================\n// ========================= CONSTANTS FOR SECURITY BAR =================================\nvar levelBarCss=function levelBarCss(level){return{height:\"10px\",width:level>0?\"\".concat(100/4*level,\"%\"):\"100%\",marginTop:15,marginBottom:15,transition:\"width 0.5s ease\",backgroundColor:[\"#EFEFEF\",\"#de1b4f\",\"#fa9623\",\"#fce408\",\"#43ad1f\"][level],borderRadius:100};};var CustomLevelBar=function CustomLevelBar(levels){setHints(levels);return/*#__PURE__*/_jsx(\"div\",{style:levelBarCss(hints)});};var securityLevels=[{descriptionLabel:/*#__PURE__*/_jsx(Typography,{children:\"1 Number\"}),validator:/.*[0-9].*/},{descriptionLabel:/*#__PURE__*/_jsx(Typography,{children:\"1 Lowercase Letter\"}),validator:/.*[a-z].*/},{descriptionLabel:/*#__PURE__*/_jsx(Typography,{children:\"1 Uppercase Letter\"}),validator:/.*[A-Z].*/},{descriptionLabel:/*#__PURE__*/_jsx(Typography,{children:\"8 Or More Characters\"}),validator:/^.{8,}$/}];// ======================================================================================\n// ======================================================================================\n// ======================================================================================\n// let generateMnemonic = async () => {\n//     try {\n//         return await bip39.generateMnemonic(256) // default to 128\n//     } catch (e) {\n//         return false\n//     }\n// }\nvar genMnemonic=function genMnemonic(){// var code = new Mnemonic(Mnemonic.Words.ENGLISH);\n// var xpriv = code.toHDPrivateKey();\n// return code.toString()\nvar mnem=bip39.generateMnemonic();console.log(\"mnem: \",mnem);return mnem;};return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(MnemonicContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mnemonic\"}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Write down this phrase! If lost you cannot recover your wallet.\"]}),/*#__PURE__*/_jsxs(MnemonicText,{children:[mnemonic,/*#__PURE__*/_jsx(IconButton,{size:\"large\",color:\"info\",onClick:function onClick(){navigator.clipboard.writeText(mnemonic);},children:/*#__PURE__*/_jsx(MdContentCopy,{size:25,color:'white'})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(InputFields,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Setup Password\"}),/*#__PURE__*/_jsx(NiceInputPassword,_defineProperty({name:\"password\",placeholder:\"Password\",value:pass.password,showSecurityLevelDescription:true,showSecurityLevelBar:true,LabelComponent:InputLabel,InputComponent:TextField,onChange:handlePass,renderLevelBarComponent:CustomLevelBar,securityLevels:securityLevels,InputComponentProps:{variant:'standard',InputProps:{endAdornment:/*#__PURE__*/_jsx(FiLock,{size:30,color:color})}}},\"securityLevels\",securityLevels),mnemonic),/*#__PURE__*/_jsx(NiceInputPassword,{name:\"password\",placeholder:\"Re-Type Password\",value:confirmPass.confirm,LabelComponent:InputLabel,InputComponent:TextField,onChange:handleConfirmPass,InputComponentProps:{variant:'standard',InputProps:{endAdornment:/*#__PURE__*/_jsx(FiLock,{size:30,color:color})}},securityLevels:securityLevels}),/*#__PURE__*/_jsxs(Terms,{children:[/*#__PURE__*/_jsx(Checkbox,{checked:terms,onChange:function onChange(){return setTerms(!terms);}}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"I Agree To \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Terms\"}),\" and Conditions\"]})]})]}),/*#__PURE__*/_jsxs(Message,{children:[icon,\"  \",/*#__PURE__*/_jsx(\"span\",{style:{color:everythingOk?\"#43ad1f\":\"#de1b4f\"},children:errorMessage})]}),/*#__PURE__*/_jsx(SubmitButton,{onClick:handleSubmit,children:\"Submit\"})]});};export default NewWalletForm;","map":{"version":3,"sources":["/home/user/Desktop/react-wallet/src/components/new_wallet_form/index.js"],"names":["TextField","styled","Button","Checkbox","IconButton","InputLabel","Typography","NiceInputPassword","useEffect","useState","FiLock","FaCheckCircle","IoIosWarning","MdContentCopy","Mnemonic","bip39","require","Form","div","MnemonicContainer","MnemonicText","p","InputFields","Message","Terms","SubmitButton","theme","backgroundColor","color","padding","borderRadius","height","margin","fontWeight","width","boxShadow","border","borderWidth","borderColor","NewWalletForm","modalVisible","loginSuccess","setLoginSuccess","errorMessage","setErrorMessage","terms","setTerms","pass","setPass","setColor","match","setMatch","confirmPass","setConfirmPass","hints","setHints","everythingOk","setEverythingOk","icon","setIcon","mnemonic","setMnemonic","handlePass","e","value","handleConfirmPass","handleSubmit","setTimeout","password","confirm","console","log","genMnemonic","levelBarCss","level","marginTop","marginBottom","transition","CustomLevelBar","levels","securityLevels","descriptionLabel","validator","mnem","generateMnemonic","navigator","clipboard","writeText","variant","InputProps","endAdornment"],"mappings":"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","sourcesContent":["import TextField from '@mui/material/TextField'\nimport styled from 'styled-components'\nimport { Button, Checkbox, IconButton, InputLabel, Typography } from '@mui/material';\nimport NiceInputPassword from 'react-nice-input-password';\nimport { useEffect, useState } from 'react';\nimport { FiLock } from 'react-icons/fi'\nimport 'react-nice-input-password/dist/react-nice-input-password.css';\nimport { FaCheckCircle } from 'react-icons/fa'\nimport { IoIosWarning } from 'react-icons/io'\nimport { MdContentCopy } from 'react-icons/md'\n// var Mnemonic = require('bitcore-mnemonic')\n\n\n\n// Mnemonic import \nimport Mnemonic from 'bitcore-mnemonic-litecoin'\n// import bip39 from 'bip39'\nconst bip39 = require('bip39')\n// const constants = require('bip44') \n\n\n//Styled components\nconst Form = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    height: 100%\n`\nconst MnemonicContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n`\nconst MnemonicText = styled.p`\n    background-color: rgb(40, 57, 71);\n    color: white;\n    box-shadow: 1px 1px 10px 1px #00000040;\n    border-radius: 4px;\n    padding: 12px;\n    font-weight: 700;\n    margin: 10px\n`\n\n\nconst InputFields = styled.div`\n    display: flex;\n    flex-direction: column; \n    align-items: center;\n    justify-content: space-evenly;\n    height: 55%;\n\n`\n\nconst Message = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    flex-grow: grow ;\n`\nconst Terms = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 8px;\n\n\n`\n\n\n\n// mui styled\nconst SubmitButton = styled(Button)(({ theme }) => ({\n    backgroundColor: \"rgb(40, 57, 71)\",\n    color: \"white\",\n    padding: 10,\n    borderRadius: \"10px\",\n    height: \"50px\",\n    margin: \"10px\",\n    fontWeight: 800,\n    width: \"50%\",\n    '&:hover':\n    {\n        backgroundColor: 'rgb(40, 57, 71, .6)',\n        boxShadow: \"1px 1px 20px #00000090\",\n        border: \"solid\",\n        borderWidth: \"4px\",\n        borderColor: \"rgb(40, 57, 71)\",\n    },\n    '@media (max-width: 800px)': {\n        width: '90%'\n    }\n}))\n\n\n\n// Start New Wallet Form\nconst NewWalletForm = ({ modalVisible, loginSuccess, setLoginSuccess }) => {\n    const [errorMessage, setErrorMessage] = useState('')\n    const [terms, setTerms] = useState(false)\n    const [pass, setPass] = useState({ \"password\": null })\n    const [color, setColor] = useState('#000')\n    const [match, setMatch] = useState(false)\n    const [confirmPass, setConfirmPass] = useState({ \"confirm\": null })\n    const [hints, setHints] = useState(0)\n    const [everythingOk, setEverythingOk] = useState(false)\n    const [icon, setIcon] = useState()\n    const [mnemonic, setMnemonic] = useState()\n\n    const handlePass = (e) => {\n        setPass({ \"password\": e.value })\n    }\n\n    const handleConfirmPass = async (e) => {\n        setConfirmPass({ \"confirm\": e.value })\n    }\n\n    const handleSubmit = (e) => {\n        if (terms && match && hints == 4) {\n            setIcon(<FaCheckCircle color={\"#43ad1f\"} size={30} />)\n            setEverythingOk(true)\n            setErrorMessage(\"Success!\")\n\n            // Pass state to main layout with WALLET_SUCCESS\n            setTimeout(() => {\n                setLoginSuccess(true)\n            }, 1000)\n\n\n        }\n        else {\n            setIcon(<IoIosWarning color={'#de1b4f'} size={30} />)\n            setEverythingOk(false)\n            setErrorMessage(\"1 Or More Requirements Missing\")\n        }\n    }\n\n    useEffect(() => {\n        if (pass.password === null || confirmPass.confirm === null || confirmPass.confirm === \"\" || pass.password === \"\") {\n            setColor(\"#000\")\n            return\n        }\n\n        if (pass.password === confirmPass.confirm) {\n            setColor(\"#43ad1f\")\n            setMatch(true)\n            if (hints == 4 && match) {\n                console.log(\"Everyhting is perfecto\")\n            }\n        } else {\n            setMatch(false)\n            setColor('#de1b4f')\n        }\n\n    }, [confirmPass])\n\n    useEffect(() => {\n        if (pass.password === null || confirmPass.confirm === null || confirmPass.confirm === \"\" || pass.password === \"\") {\n            setColor(\"#000\")\n            return\n        }\n\n        if (pass.password === confirmPass.confirm) {\n            setMatch(true)\n            setColor('#43ad1f')\n        }\n        else {\n            setMatch(false)\n            setColor('#de1b4f')\n        }\n\n    }, [pass])\n\n    useEffect(() => {\n        if (!modalVisible) {\n            setIcon()\n            setColor('#000')\n            setMatch(false)\n            setPass({ \"password\": \"\" })\n            setConfirmPass({ \"confirm\": \"\" })\n            setTerms(false)\n            setErrorMessage()\n            setHints(0)\n            setEverythingOk(false)\n            return\n        }\n        setMnemonic(genMnemonic())\n\n\n\n    }, [modalVisible])\n\n    // ======================================================================================\n    // ======================================================================================\n    // ========================= CONSTANTS FOR SECURITY BAR =================================\n\n    const levelBarCss = (level) => ({\n        height: \"10px\",\n        width: level > 0 ? `${(100 / 4) * level}%` : \"100%\",\n        marginTop: 15,\n        marginBottom: 15,\n        transition: \"width 0.5s ease\",\n        backgroundColor: [\"#EFEFEF\", \"#de1b4f\", \"#fa9623\", \"#fce408\", \"#43ad1f\"][level],\n        borderRadius: 100\n    });\n\n    const CustomLevelBar = (levels) => {\n        setHints(levels)\n\n        return <div style={levelBarCss(hints)} />\n    };\n\n\n    const securityLevels = [\n        {\n            descriptionLabel: <Typography>1 Number</Typography>,\n            validator: /.*[0-9].*/\n        },\n        {\n            descriptionLabel: <Typography>1 Lowercase Letter</Typography>,\n            validator: /.*[a-z].*/\n        },\n        {\n            descriptionLabel: <Typography>1 Uppercase Letter</Typography>,\n            validator: /.*[A-Z].*/\n        },\n        {\n            descriptionLabel: <Typography>8 Or More Characters</Typography>,\n            validator: /^.{8,}$/\n        }\n    ];\n\n    // ======================================================================================\n    // ======================================================================================\n    // ======================================================================================\n\n\n    // let generateMnemonic = async () => {\n    //     try {\n    //         return await bip39.generateMnemonic(256) // default to 128\n    //     } catch (e) {\n    //         return false\n    //     }\n    // }\n\n    const genMnemonic = () => {\n        // var code = new Mnemonic(Mnemonic.Words.ENGLISH);\n        // var xpriv = code.toHDPrivateKey();\n\n        // return code.toString()\n        const mnem = bip39.generateMnemonic()\n        console.log(\"mnem: \", mnem)\n        return mnem\n\n    }\n\n    return (\n        <Form>\n            <MnemonicContainer>\n                <h1>Mnemonic</h1>\n                <span><strong>Note:</strong> Write down this phrase! If lost you cannot recover your wallet.</span>\n                <MnemonicText>{mnemonic}\n                    <IconButton size={\"large\"} color={\"info\"} onClick={() => { navigator.clipboard.writeText(mnemonic) }}>\n                        <MdContentCopy size={25} color={'white'} />\n\n                    </IconButton>\n                </MnemonicText>\n\n\n            </MnemonicContainer>\n\n            <br />\n\n\n            <InputFields>\n                <h1>Setup Password</h1>\n\n                <NiceInputPassword\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    value={pass.password}\n                    showSecurityLevelDescription={true}\n                    showSecurityLevelBar={true}\n                    LabelComponent={InputLabel}\n                    InputComponent={TextField}\n                    onChange={handlePass}\n                    renderLevelBarComponent={CustomLevelBar}\n                    securityLevels={securityLevels}\n                    key={mnemonic}\n                    InputComponentProps={{\n                        variant: 'standard',\n                        InputProps: {\n                            endAdornment: <FiLock size={30} color={color} />,\n                        }\n                    }}\n                    securityLevels={securityLevels}\n\n\n                />\n                <NiceInputPassword\n                    name=\"password\"\n                    placeholder=\"Re-Type Password\"\n                    value={confirmPass.confirm}\n                    LabelComponent={InputLabel}\n                    InputComponent={TextField}\n                    onChange={handleConfirmPass}\n\n                    InputComponentProps={{\n                        variant: 'standard',\n                        InputProps: {\n                            endAdornment: <FiLock size={30} color={color} />,\n                        }\n                    }}\n                    securityLevels={securityLevels}\n\n                />\n                <Terms>\n                    <Checkbox checked={terms} onChange={() => setTerms(!terms)} /> <span>I Agree To <a href=\"#\">Terms</a> and Conditions</span>\n\n                </Terms>\n\n            </InputFields>\n\n            <Message>\n                {icon}  <span style={{ color: everythingOk ? \"#43ad1f\" : \"#de1b4f\" }} >{errorMessage}</span>\n\n            </Message>\n\n\n            <SubmitButton onClick={handleSubmit}>Submit</SubmitButton>\n\n        </Form>\n\n\n    )\n}\n\nexport default NewWalletForm"]},"metadata":{},"sourceType":"module"}